# Workspace Sourcing Guide

## The Problem

The `install/setup.bash` file is auto-generated by colcon and has a path resolution issue. When you run:
```bash
source install/setup.bash
```

You may see errors like:
```
/opt/ros/jazzy/local_setup.bash:.:11: no such file or directory: /home/alton/dev/inclusive-alc-sim/ros2_ws/local_setup.sh
not found: "/home/alton/dev/inclusive-alc-sim/ros2_ws/local_setup.bash"
```

## Solutions

### ✅ Solution 1: Use local_setup.bash (Recommended - Always Works)

This is the **simplest and most reliable** method:

```bash
cd ~/dev/inclusive-alc-sim/ros2_ws
source /opt/ros/jazzy/setup.bash      # Source ROS 2 base first
source install/local_setup.bash       # Then source workspace overlay
```

Or if ROS 2 is already sourced:
```bash
cd ~/dev/inclusive-alc-sim/ros2_ws
source install/local_setup.bash
```

### ✅ Solution 2: Use the Helper Script (Easiest)

```bash
cd ~/dev/inclusive-alc-sim/ros2_ws
source source_workspace.sh
```

This automatically handles everything correctly.

### ✅ Solution 3: Fix setup.bash After Each Build

If you prefer to use `setup.bash`, run this after each `colcon build`:

```bash
cd ~/dev/inclusive-alc-sim/ros2_ws
./fix_setup_bash.sh
source install/setup.bash
```

**Note:** You need to run `fix_setup_bash.sh` after each build because colcon regenerates `setup.bash`.

### ✅ Solution 4: Add to Your Shell Config (Permanent)

Add this to your `~/.zshrc` or `~/.bashrc`:

```bash
# Source ROS 2 workspace
alc_source() {
    source /opt/ros/jazzy/setup.bash
    source ~/dev/inclusive-alc-sim/ros2_ws/install/local_setup.bash
}
```

Then just run:
```bash
alc_source
```

## Why This Happens

The `setup.bash` file tries to source ROS 2's `local_setup.bash`, which uses the current working directory to find files. When you're in the workspace directory, it looks in the wrong place. The `local_setup.bash` file doesn't have this issue because it doesn't chain to other prefixes.

## Recommendation

**Always use `install/local_setup.bash`** - it's simpler, more reliable, and doesn't have path resolution issues.
